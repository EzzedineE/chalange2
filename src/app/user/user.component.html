<div class="col-sm-12">
  <h1 class="text-center text-primary">Chalange 2</h1>
</div>
<hr />
<!-- <div class="col-sm-12 text-center border inpute">
  <div>
    <mat-form-field [formGroup]="login" class="example-form-field">
      <mat-label>Nom</mat-label>
      <input
        matInput
        type="text"
        formControlName="nom"
        class="fromControl"
        type="nom"
        id="nom"
        [ngClass]="{ addB: submeted && !login.controls.nom.errors }"
        [ngStyle]="resete"
      />
    </mat-form-field>
  </div>
  <div>
    <mat-form-field [formGroup]="login" class="example-form-field">
      <mat-label>Prenom</mat-label>
      <input
        matInput
        type="text"
        formControlName="prenom"
        class="fromControl"
        type="prenom"
        id="prenom"
        [ngClass]="{}"
        [ngStyle]="resete"
    /></mat-form-field>
  </div>
  <div>
    <mat-form-field [formGroup]="login" class="example-form-field">
      <mat-label>E-mail</mat-label>
      <input
        matInput
        type="text"
        formControlName="email"
        class="fromControl"
        type="email"
        id="email"
        [ngClass]="{ addB: submeted && !login.controls.email.errors }"
        [ngStyle]="resete"
    /></mat-form-field>
  </div>
  <div>
    <mat-form-field [formGroup]="login" class="example-form-field">
      <mat-label>Mot de passe</mat-label>
      <input
        matInput
        type="text"
        formControlName="password"
        class="fromControl"
        type="password"
        id="password"
        [ngClass]="{ addB: submeted && !login.controls.password.errors }"
        [ngStyle]="resete"
    /></mat-form-field>
  </div>
  <div>
    <mat-form-field [formGroup]="login" class="example-form-field">
      <mat-label>Connfirmer mot de passe</mat-label>
      <input
        matInput
        type="text"
        formControlName="password2"
        class="fromControl"
        type="password2"
        id="password2"
        [ngClass]="{ addB: submeted && !login.controls.password2.errors }"
        [ngStyle]="resete"
      />
    </mat-form-field>
  </div>
  <div class="col-sm-12">
    <button type="submit" class="rounded btn btn-success btn-add">
      <i class="fa fa-plus"></i> Add
    </button>
    <button
      type="button"
      class="rounded btn btn-primary btn-reset"
      (click)="reset()"
    >
      <i class="fa fa-edit"></i> Reset
    </button>
  </div>
</div> -->
<div class="col-sm-12 text-center border">
  <form [formGroup]="login" (ngSubmit)="add()">
    <div class="styled-input my-3">
      <input
        type="text"
        formControlName="nom"
        class="fromControl"
        placeholder="Nom"
        id="nom"
        [ngClass]="{ addB: submeted && !login.controls.nom.errors }"
        [ngStyle]="resete"
      />
      <div *ngIf="login.controls.nom.invalid && login.controls.nom.touched">
        <small *ngIf="login.controls.nom.errors?.required" class="text-danger"
          >Nom required</small
        >
      </div>
    </div>

    <div class="styled-input my-3">
      <input
        formControlName="prenom"
        class="fromControl"
        type="text"
        placeholder="Prenom"
        id="prenom"
        [ngClass]="{ addB: submeted && !login.controls.prenom.errors }"
        [ngStyle]="resete"
      />
      <div
        *ngIf="login.controls.prenom.invalid && login.controls.prenom.touched"
      >
        <small
          *ngIf="login.controls.prenom.errors?.required"
          class="text-danger"
          >Prenom required</small
        >
      </div>
    </div>

    <div class="styled-input my-3">
      <input
        formControlName="email"
        class="fromControl"
        type="email"
        placeholder="E-mail"
        id="email"
        [ngClass]="{ addB: submeted && !login.controls.email.errors }"
        [ngStyle]="resete"
      />
      <div *ngIf="login.controls.email.invalid && login.controls.email.touched">
        <small *ngIf="login.controls.email.errors?.required" class="text-danger"
          >email required</small
        >
        <small *ngIf="login.controls.email.errors?.pattern" class="text-danger"
          >email pattern invalid</small
        >
      </div>
    </div>

    <div class="styled-input my-3">
      <input
        formControlName="password"
        class="fromControl"
        type="password"
        placeholder="Mot de passe"
        id="password"
        [ngClass]="{ addB: submeted && !login.controls.password.errors }"
        [ngStyle]="resete"
      />
      <div
        *ngIf="
          login.controls.password.invalid && login.controls.password.touched
        "
      >
        <small
          *ngIf="login.controls.password.errors?.required"
          class="text-danger"
          >Mot de passe required</small
        >
        <small
          *ngIf="login.controls.password.errors?.minlength"
          class="text-danger"
          >Mot de passe invalid</small
        >
      </div>
    </div>

    <div class="styled-input my-3">
      <input
        formControlName="password2"
        class="fromControl"
        type="password"
        placeholder="Confirmer mot de passe"
        [ngClass]="{ addB: submeted && !login.controls.password.errors }"
        [ngStyle]="resete"
      />
      <div
        *ngIf="
          login.controls.password2.invalid && login.controls.password2.touched
        "
      >
        <small *ngIf="login.controls.password2.errors?.required"
          >Mot de passe required</small
        >
        <small *ngIf="login.errors?.misMatch">Mot de passe mismatch</small>
        {{ login.errors | json }}
      </div>
    </div>
    <div class="col-sm-12">
      <button type="submit" class="rounded btn btn-success btn-add">
        <i class="fa fa-plus"></i> Add
      </button>
      <button
        type="button"
        class="rounded btn btn-primary btn-reset"
        (click)="reset()"
      >
        <i class="fa fa-edit"></i> Reset
      </button>
    </div>
  </form>
</div>

<!-- *************************************************************************************************** -->
<!-- ***** -->

<table class="table py-5" *ngIf="aff">
  <thead class="tete-tab text-dark">
    <td class="text-dark"><b>Nom</b></td>
    <td class="text-dark"><b>Prenom</b></td>
    <td class="text-dark"><b>E-mail</b></td>
    <td class="text-dark"><b>Mot De Passe</b></td>
    <td class="text-dark"><b>Confirmer mot De Passe</b></td>
    <td class="text-dark"><b>action</b></td>
  </thead>
  <tbody>
    <tr *ngFor="let user of tab; let i = index">
      <td>{{ user.nom }}</td>
      <td>{{ user.prenom }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.password }}</td>
      <td>{{ user.password2 }}</td>
      <td>
        <button *ngIf="isSupp(i)" class="btn btn-danger" (click)="supprimer(i)">
          supprimer
        </button>
      </td>
    </tr>
  </tbody>
</table>
